<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prepare Install Directory :: Bastion Host Setup for AWS OpenShift STS</title>
    <link rel="prev" href="configure-aws-sts-credentials.html">
    <link rel="next" href="optional---deploy-or-destroy-cluster.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Bastion Host Setup for AWS OpenShift STS</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-adoption-1" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Bastion Host Setup for AWS OpenShift STS</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="bastion-host-setup-for-aws-openshift-sts.html">Bastion Host Setup for AWS OpenShift STS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="environment-setup.html">Environment Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install-required-packages.html">Install Required Packages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-vnc-server.html">Configure VNC Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install-openshift-aws-tools.html">Install OpenShift &amp; AWS Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-aws-sts-credentials.html">Configure AWS STS Credentials</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="prepare-install-directory.html">Prepare Install Directory</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="optional---deploy-or-destroy-cluster.html">Optional - Deploy or Destroy Cluster</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Bastion Host Setup for AWS OpenShift STS</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Bastion Host Setup for AWS OpenShift STS</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="bastion-host-setup-for-aws-openshift-sts.html">Bastion Host Setup for AWS OpenShift STS</a></li>
    <li><a href="prepare-install-directory.html">Prepare Install Directory</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Prepare Install Directory</h1>
<div class="sect1">
<h2 id="_prepare_install_directory"><a class="anchor" href="#_prepare_install_directory"></a>Prepare Install Directory</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_7_prepare_install_directory"><a class="anchor" href="#_7_prepare_install_directory"></a>7. Prepare Install Directory</h3>
<div class="sect3">
<h4 id="_7_1_objective"><a class="anchor" href="#_7_1_objective"></a>7.1. Objective</h4>
<div class="paragraph">
<p>The objective of this page is to set up the OpenShift installer directory and inject Security Token Service (STS) manifests and Transport Layer Security (TLS) files. This step is crucial for configuring AWS STS credentials and preparing the environment for OpenShift installation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_7_2_steps"><a class="anchor" href="#_7_2_steps"></a>7.2. Steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Create install directory</strong></p>
<div class="literalblock">
<div class="content">
<pre>Begin by creating a dedicated directory for the OpenShift installer. This can be done using the following command:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
mkdir -p ~/install-dir
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This command creates a new directory named `install-dir` in the user's home directory (`~`). The `-p` flag ensures that any necessary parent directories are also created.</pre>
</div>
</div>
</li>
<li>
<p><strong>Copy the installation configuration</strong></p>
<div class="literalblock">
<div class="content">
<pre>Next, copy the installation configuration file (`install-config.yaml`) into the newly created directory:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
cp install-config.yaml install-dir/
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>To ensure proper permissions, set the file mode to 0644:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
chmod 0644 install-dir/install-config.yaml
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Generate manifests</strong></p>
<div class="literalblock">
<div class="content">
<pre>Generate the required manifests for the OpenShift installation using the following command:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
openshift-install create manifests --dir install-dir
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This command generates the necessary manifests based on the configuration specified in `install-config.yaml` and places them in the `install-dir` directory.</pre>
</div>
</div>
</li>
<li>
<p><strong>Copy STS artifacts</strong></p>
<div class="literalblock">
<div class="content">
<pre>Copy the STS manifests and TLS files from the source directory (`~/sts`) to the `install-dir/manifests` and `install-dir` directories, respectively:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
cp -r ~/sts/manifests/* install-dir/manifests/
cp -r ~/sts/tls install-dir/
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>These files contain the necessary configurations for integrating AWS STS with OpenShift.</pre>
</div>
</div>
</li>
<li>
<p><strong>Validate</strong></p>
<div class="literalblock">
<div class="content">
<pre>Finally, validate the structure of the `install-dir` directory to ensure that all required files and subdirectories are present:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
tree install-dir
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This command will display the directory structure, confirming that the installation directory is correctly set up and contains all necessary files.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>By following these steps, you will have prepared the install directory with</p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="configure-aws-sts-credentials.html">Configure AWS STS Credentials</a></span>
  <span class="next"><a href="optional---deploy-or-destroy-cluster.html">Optional - Deploy or Destroy Cluster</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
